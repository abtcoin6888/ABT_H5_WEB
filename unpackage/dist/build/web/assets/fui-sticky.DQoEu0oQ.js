import{bl as t,u as e,q as i,w as s,v as a,D as l,C as d,br as h,t as n}from"./index-CvJkP8r7.js";import{_ as r}from"./_plugin-vue_export-helper.BCo6x5W8.js";const o=r({name:"fui-sticky",emits:["sticky"],props:{top:{type:[Number,String],default:0},range:{type:Boolean,default:!1},scrollTop:{type:Number,default:0},zIndex:{type:[Number,String],default:999},width:{type:[Number,String],default:750},param:{type:[Number,String],default:0}},computed:{getStyles(){let t="";return this.range||(t+=`top:${this.top}px;z-index:${this.zIndex};`),t},getStyle(){let t="";return this.range&&(t=`top:${this.top}px;z-index:${this.zIndex};`),t}},watch:{scrollTop(t){this.updateStickyChange()}},mounted(){this.$nextTick((()=>{setTimeout((()=>{this.init((()=>{this.updateStickyChange()}))}),50)}))},updated(t){this.$nextTick((()=>{this.init((()=>{this.updateStickyChange()}))}))},data:()=>({elId:`fui_${Math.ceil(1e6*Math.random()).toString(36)}`,timer:null,elTop:0,height:0,isFixed:!1}),methods:{updateStickyChange(){const t=this.elTop,e=this.height,i=this.scrollTop,s=this.top;this.range?this.isFixed=i+s>=t&&i+s<t+e:this.isFixed=i+s>=t,this.$emit("sticky",{isFixed:this.isFixed,param:this.param})},init(e){const i=`#${this.elId}`;t().in(this).select(i).fields({size:!0,rect:!0},(t=>{t&&(this.elTop=t.top+(this.scrollTop||0),this.height=t.height,e&&e())})).exec()}}},[["render",function(t,r,o,p,u,c){const y=n;return e(),i(y,{class:l(["fui-sticky__wrap",{"fui-sticky__fixed":!o.range}]),style:d(c.getStyles),id:u.elId,ref:"fui_sticky__el"},{default:s((()=>[a(y,{class:l({"fui-sticky__fixed":o.range,"fui-sticky__fixed-mp":!o.range&&u.isFixed}),style:d(c.getStyle)},{default:s((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),h(t.$slots,"content",{},void 0,!0)])),_:3},8,["class","style","id"])}],["__scopeId","data-v-4c75581f"]]);export{o as _};

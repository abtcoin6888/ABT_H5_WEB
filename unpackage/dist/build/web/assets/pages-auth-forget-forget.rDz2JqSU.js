import{I as e,a as t,a2 as a,i as o,a3 as l,r as n,A as i,v as s,w as r,F as c,t as d,u,D as p,x as f,z as h,q as m,H as g,W as _}from"./index-Crl9YJuv.js";import{_ as v}from"./fui-icon.DR4EBh1k.js";import{r as b}from"./uni-app.es.DGAn-rK5.js";import{_ as x}from"./fui-nav-bar.BWTrzAGW.js";import{_ as $}from"./fui-button.DywjBHJb.js";import{_ as k}from"./authPop.D0CPe6OC.js";import{_ as y}from"./areacode.Y00JEBOv.js";import{_ as C}from"./alert.BH0adChV.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-popup.xy3aTQLU.js";import"./uni-popup-dialog.D9c9DJQu.js";const V=j({components:{[e.name]:e},data(){return{active:0,onFocus:"",account:"",title:this.$t("login.tip_t2"),content:"",ctxt:this.$t("login.cancel"),ftxt:this.$t("login.confirm"),area:"+86"}},watch:{active(){this.account=""}},computed:{...t(["userTheme"])},methods:{confirm(e){0!=this.active&&(this.area=""),this.$mroute.setPwd(this.account,e,this.area,1)},resend(){a({title:this.$t("login.send")}),o.sendFindCode(this.account,0===this.active?1:2,this.area).then((e=>{if(l(),200!=e.code)return this.$refs.alert.close(),void(this.content=e.message)}))},sendCode(){if(this.account.length<6)return!1;a({title:this.$t("login.send")}),o.sendFindCode(this.account,0===this.active?1:2,this.area).then((e=>{if(l(),200!=e.code)return this.content=e.message,void this.$refs.alert.open();this.openVerifyCode()}))},openVerifyCode(){this.$refs.authPop.open()},closeVerifyCode(){this.$refs.authPop.close()},openarea(){this.$refs.areacode.open()},areacode(e){this.area=e.dialingCode}}},[["render",function(e,t,a,o,l,j){const V=b(n("fui-icon"),v),w=b(n("fui-nav-bar"),x),P=g,z=d,F=_,I=b(n("fui-button"),$),R=b(n("authPop"),k),T=b(n("areacode"),y),B=b(n("alert"),C);return u(),i(c,null,[s(z,{class:"forget","data-theme":e.userTheme},{default:r((()=>[s(w,{isFixed:"",isOccupy:"",statusBar:"",zIndex:"9",background:"var(--background-primary)",color:"var(--content-primary)",title:e.$t("login.forget_t"),onLeftClick:t[0]||(t[0]=t=>e.$mroute.back())},{default:r((()=>[s(V,{name:"arrowleft",size:"56",color:"var(--content-primary)"},null,8,["color"])])),_:1},8,["title"]),s(z,{class:"body-wrap"},{default:r((()=>[s(z,{class:"login-mode"},{default:r((()=>[s(z,{class:p(["item",0===l.active?"active":""]),onClick:t[1]||(t[1]=e=>l.active=0)},{default:r((()=>[s(P,null,{default:r((()=>[f(h(e.$t("login.phone")),1)])),_:1})])),_:1},8,["class"]),s(z,{class:p(["item",1===l.active?"active":""]),onClick:t[2]||(t[2]=e=>l.active=1)},{default:r((()=>[s(P,null,{default:r((()=>[f(h(e.$t("login.email")),1)])),_:1})])),_:1},8,["class"])])),_:1}),s(z,{class:"login-label"},{default:r((()=>[s(P,{class:"font-13 color-gray"},{default:r((()=>[f(h(0===l.active?e.$t("login.phone1"):e.$t("login.email1")),1)])),_:1}),0===l.active?(u(),m(z,{key:0,class:"input-box mt-7",type:"phone"},{default:r((()=>[s(z,{class:"area-code",onClick:t[3]||(t[3]=e=>j.openarea())},{default:r((()=>[s(P,{class:"font-14 color-black font-weight"},{default:r((()=>[f(h(l.area),1)])),_:1}),s(V,{name:"turningdown",size:"36",color:"var(--content-tertiary)"},null,8,["color"])])),_:1}),s(F,{type:"number",modelValue:l.account,"onUpdate:modelValue":t[4]||(t[4]=e=>l.account=e),placeholder:this.$t("login.phone_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1})):(u(),m(z,{key:1,class:"input-box mt-7"},{default:r((()=>[s(F,{type:"text",modelValue:l.account,"onUpdate:modelValue":t[5]||(t[5]=e=>l.account=e),placeholder:this.$t("login.email_p"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}))])),_:1}),s(z,{class:"button-box"},{default:r((()=>[s(I,{onClick:j.sendCode,height:"78rpx",radius:"78rpx",size:"26",background:"var(--content-primary)",color:"var(--background-primary)"},{default:r((()=>[f(h(e.$t("login.next")),1)])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["data-theme"]),s(R,{ref:"authPop",onCallback:j.confirm,onResend:j.resend},null,8,["onCallback","onResend"]),s(T,{ref:"areacode",onItemclick:j.areacode},null,8,["onItemclick"]),s(B,{ref:"alert",title:l.title,ctxt:l.ctxt,ftxt:l.ftxt,content:l.content},null,8,["title","ctxt","ftxt","content"])],64)}],["__scopeId","data-v-955dbdb0"]]);export{V as default};

import{a as t,$ as a,r as e,Q as l,A as s,v as o,w as c,F as i,t as r,u,x as d,z as n,q as f,y as m,B as _,H as p,J as b,G as y,W as g}from"./index-Crl9YJuv.js";import{_ as h}from"./fui-icon.DR4EBh1k.js";import{r as k}from"./uni-app.es.DGAn-rK5.js";import{_ as w}from"./fui-nav-bar.BWTrzAGW.js";import{_ as v}from"./fui-tag.DJOFUAYN.js";import{_ as S}from"./fui-checkbox.BcVDU4J3.js";import{_ as D}from"./fui-tabs.Cts06ewl.js";import{_ as x}from"./fui-empty.DB1Js3PB.js";import{_ as T}from"./fui-bottom-popup.B6kgpvzO.js";import{s as U}from"./strategy.B-ww277y.js";import{t as C}from"./terminationStrategy.C9747xLe.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=$({computed:{...t(["userTheme"])},data:()=>({navHeight:"",listTabs:["正在执行","委托订单","已完成"],tabActive:0,visible:!1,item:{currency:{},cm:{}},popupShow:!1,price_up:"",price_down:""}),onLoad(t){this.gird_id=t.gird_id,this.type_id=t.type_id,this.getDetail(),a("stopStrategy",(t=>{this.getDetail(),this.visible=!1}))},components:{terminationStrategy:C},methods:{navInit(t){this.navHeight=t.height+t.statusBarHeight},tabChange(t){this.tabActive=t.index},async getDetail(){let t=await U.girdDetail(this.gird_id,this.type_id);this.item=t.data},editPriceUpDown(){this.price_up=this.item.price_up,this.price_down=this.item.price_down,this.popupShow=!0},async priceUpDown(){200==(await U.priceUpDown({id:this.item.id,price_up:this.price_up,price_down:this.price_down})).code&&(this.item.price_up=this.price_up,this.item.price_down=this.price_down),this.popupShow=!1}}},[["render",function(t,a,U,C,$,j){const z=k(e("fui-icon"),h),F=k(e("fui-nav-bar"),w),V=p,A=k(e("fui-tag"),v),I=r,H=k(e("fui-checkbox"),S),P=b,B=y,R=k(e("fui-tabs"),D),L=k(e("fui-empty"),x),Q=l("termination-strategy"),W=g,q=k(e("fui-bottom-popup"),T);return u(),s(i,null,[o(I,{class:"details-warp","data-theme":t.userTheme},{default:c((()=>[o(F,{isFixed:"",isOccupy:"",zIndex:"9",title:"策略详情",background:"var(--background-primary)",color:"var(--content-primary)",onInit:j.navInit,onLeftClick:a[0]||(a[0]=a=>t.$mroute.back())},{default:c((()=>[o(z,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["onInit"]),o(I,{class:"container"},{default:c((()=>[o(I,{class:"card"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-10"},{default:c((()=>[d(" 订单数据非实时更新，请下拉刷新 ")])),_:1}),o(I,{class:"mb-10"},{default:c((()=>[o(A,{size:"20",padding:["12rpx","16rpx"],radius:4,background:"var(--content-trade-buy)",color:"#f5f5f5"},{default:c((()=>[d(n(2==$.item.status?"已结束":"进行中"),1)])),_:1})])),_:1}),o(I,{class:"coin-info"},{default:c((()=>[o(I,{class:"coin-info-left"},{default:c((()=>[o(I,{class:"cell mb-5"},{default:c((()=>[o(V,{class:"coin"},{default:c((()=>[d(n($.item.currency.symbol)+" / USDT ",1)])),_:1}),o(V,{class:"tag"},{default:c((()=>[d(n(1==$.item.type_id?"现货":"合约"),1)])),_:1})])),_:1}),o(I,{class:"cell"},{default:c((()=>[o(A,{color:"var(--content-primary)",size:"24",background:"var(--background-secondary)"},{default:c((()=>[d(n(1==$.item.direction?"做多":2==$.item.direction?"做空":"中性"),1)])),_:1})])),_:1})])),_:1}),o(I,{class:"share-box"})])),_:1}),o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 运行时间：1D 19H 15M ")])),_:1}),o(V,{class:"font-12 color-gray"},{default:c((()=>[d(" 创建时间："+n($.item.created_at),1)])),_:1}),2!=$.item.status?(u(),f(I,{key:0,class:"checkbox-label"},{default:c((()=>[o(H,{color:"var(--green)",borderRadius:"4rpx",scaleRatio:"0.8",value:"1",checked:""}),o(V,{class:"color-black font-14"},{default:c((()=>[d("终止时全部卖出")])),_:1})])),_:1})):m("",!0),2!=$.item.status?(u(),f(P,{key:1,class:"button",onClick:a[1]||(a[1]=t=>$.visible=!0)},{default:c((()=>[o(V,null,{default:c((()=>[d("终止策略")])),_:1})])),_:1})):m("",!0)])),_:1}),o(I,{class:"card"},{default:c((()=>[o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 总收益(USDT) ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-primary"},{default:c((()=>[d(n($.item.profit)+" ",1),o(V)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 网格利润(USDT) ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n($.item.profit)+" ",1),o(V)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 非配对利润(USDT) ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-primary"},{default:c((()=>[d(n($.item.pairedProfit)+" ",1),o(V)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 年化收益率 ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n($.item.rate)+"% ",1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 总投资额 ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n($.item.amount)+" USDT ",1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 最新价(USDT) ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n($.item.new_price),1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 价格区间(USDT) ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n(t.$util.thousandSeparator($.item.min))+" - "+n(t.$util.thousandSeparator($.item.max)),1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray mb-5"},{default:c((()=>[d(" 止盈/止损价 ")])),_:1}),o(I,{class:"item-cell",onClick:j.editPriceUpDown},{default:c((()=>[o(V,{class:"color-black"},{default:c((()=>[d(n(parseFloat($.item.price_up)>0?t.$util.thousandSeparator($.item.price_up):"--")+"/"+n(parseFloat($.item.price_down)>0?t.$util.thousandSeparator($.item.price_down):"--"),1)])),_:1}),o(B,{src:`/static/img/tactic/bj-${t.userTheme}.png`},null,8,["src"])])),_:1},8,["onClick"])])),_:1})])),_:1}),o(I,{class:"row-box",onClick:a[2]||(a[2]=a=>t.$mroute.policyParameter($.item.id,$.item.type_id))},{default:c((()=>[o(V,null,{default:c((()=>[d("策略参数")])),_:1}),o(z,{name:"turningright",size:"30",color:"var(--content-primary)"})])),_:1}),o(I,{class:"list-warp"},{default:c((()=>[o(R,{tabs:$.listTabs,short:!1,size:26,scale:1,color:"var(--text-gray)",selectedFontWeight:"600",selectedColor:"var(--content-primary)",background:"var(--background-primary)",sliderBackground:"var(--green)",onChange:j.tabChange},null,8,["tabs","onChange"]),0===$.tabActive?(u(),f(I,{key:0,class:"list-content"},{default:c((()=>[o(I,{class:"list-content-top"},{default:c((()=>[o(V,{class:"title"},{default:c((()=>[d(" 网格资产 ")])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray"},{default:c((()=>[d(" 当前资产 ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.asset)+" "+n($.item.currency.symbol),1)])),_:1}),o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.asset_coin)+" USDT ",1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(V,{class:"font-12 color-gray"},{default:c((()=>[d(" 预留手续费 ")])),_:1}),o(I,{class:"item-cell"},{default:c((()=>[o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.coin_commission)+" "+n($.item.currency.symbol),1)])),_:1}),o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.commission)+" USDT ",1)])),_:1})])),_:1})])),_:1}),o(I,{class:"item"},{default:c((()=>[o(I,{class:"item-column"},{default:c((()=>[o(V,{class:"font-12 color-gray"},{default:c((()=>[d(" 每笔数量（"+n($.item.currency.symbol)+"） ",1)])),_:1}),o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.order_coin),1)])),_:1})])),_:1}),o(I,{class:"item-column"},{default:c((()=>[o(V,{class:"font-12 color-gray"},{default:c((()=>[d(" 最新价（USDT） ")])),_:1}),o(V,{class:"font-14 color-black font-bold"},{default:c((()=>[d(n($.item.new_price),1)])),_:1})])),_:1})])),_:1})])),_:1}),o(I,{class:"list-content-bottom"},{default:c((()=>[o(I,{class:"not-data"},{default:c((()=>[o(L,{src:`/static/img/tactic/not_data-${t.userTheme}.png`,width:"160",height:"160",size:"26",title:"暂无数据",color:"var(--dark-gray)"},null,8,["src"])])),_:1})])),_:1})])),_:1})):m("",!0),1===$.tabActive?(u(),f(I,{key:1,class:"order-warp"},{default:c((()=>[o(V,{class:"title"},{default:c((()=>[d("委托订单")])),_:1}),o(I,{class:"order-list"},{default:c((()=>[o(I,{class:"cell"},{default:c((()=>[o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 方向 ")])),_:1}),o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 数量（"+n($.item.currency.symbol)+"） ",1)])),_:1}),o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 价格（USDT） ")])),_:1})])),_:1}),(u(!0),s(i,null,_($.item.trade,((a,e)=>(u(),f(I,{class:"cell"},{default:c((()=>[0==a.status?(u(),s(i,{key:0},[o(V,{class:"font-14 color-primary"},{default:c((()=>[d(n(1==a.direction?"买入":"卖出"),1)])),_:2},1024),1==a.direction?(u(),f(V,{key:0,class:"font-14 color-black"},{default:c((()=>[d(n(t.$util.thousandSeparator(parseFloat(a.amount)/parseFloat(a.price),8)),1)])),_:2},1024)):(u(),f(V,{key:1,class:"font-14 color-black"},{default:c((()=>[d(n(a.amount),1)])),_:2},1024)),o(V,{class:"font-14 color-black"},{default:c((()=>[d(n(a.price),1)])),_:2},1024)],64)):m("",!0)])),_:2},1024)))),256))])),_:1}),$.item.trade.length?m("",!0):(u(),f(I,{key:0,class:"not-data"},{default:c((()=>[o(L,{src:`/static/img/tactic/not_data-${t.userTheme}.png`,width:"160",height:"160",size:"26",title:"暂无订单",color:"var(--dark-gray)"},null,8,["src"])])),_:1}))])),_:1})):m("",!0),2===$.tabActive?(u(),f(I,{key:2,class:"order-warp"},{default:c((()=>[o(I,{class:"order-list"},{default:c((()=>[o(I,{class:"cell"},{default:c((()=>[o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 方向 ")])),_:1}),o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 数量（"+n($.item.currency.symbol)+"） ",1)])),_:1}),o(V,{class:"font-13 color-gray"},{default:c((()=>[d(" 价格（USDT） ")])),_:1})])),_:1}),(u(!0),s(i,null,_($.item.trade,((a,e)=>(u(),f(I,{class:"cell"},{default:c((()=>[1==a.status?(u(),s(i,{key:0},[o(V,{class:"font-14 color-primary"},{default:c((()=>[d(n(1==a.direction?"买入":"卖出"),1)])),_:2},1024),1==a.direction?(u(),f(V,{key:0,class:"font-14 color-black"},{default:c((()=>[d(n(t.$util.thousandSeparator(parseFloat(a.amount)/parseFloat(a.price),8)),1)])),_:2},1024)):(u(),f(V,{key:1,class:"font-14 color-black"},{default:c((()=>[d(n(a.amount),1)])),_:2},1024)),o(V,{class:"font-14 color-black"},{default:c((()=>[d(n(a.price),1)])),_:2},1024)],64)):m("",!0)])),_:2},1024)))),256))])),_:1}),$.item.trade.length?m("",!0):(u(),f(I,{key:0,class:"not-data"},{default:c((()=>[o(L,{src:`/static/img/tactic/not_data-${t.userTheme}.png`,width:"160",height:"160",size:"26",title:"暂无订单",color:"var(--dark-gray)"},null,8,["src"])])),_:1}))])),_:1})):m("",!0)])),_:1})])),_:1})])),_:1},8,["data-theme"]),o(Q,{item:$.item,visible:$.visible,onClose:a[3]||(a[3]=t=>$.visible=!1)},null,8,["item","visible"]),o(q,{background:"var(--background-primary)","z-index":"1000",show:$.popupShow,onClose:a[7]||(a[7]=t=>$.popupShow=!1)},{default:c((()=>[o(I,{class:"popup-warp"},{default:c((()=>[o(I,{class:"title-box"},{default:c((()=>[o(V,null,{default:c((()=>[d(" 修改止盈/止损 ")])),_:1}),o(V,{onClick:a[4]||(a[4]=t=>$.popupShow=!1)},{default:c((()=>[d(" 关闭 ")])),_:1})])),_:1}),o(I,{class:"container"},{default:c((()=>[o(I,{class:"warning-title"},{default:c((()=>[o(V,null,{default:c((()=>[d("价格区间")])),_:1}),o(V,null,{default:c((()=>[d(n(t.$util.thousandSeparator($.item.min))+" - "+n(t.$util.thousandSeparator($.item.max))+" USDT",1)])),_:1})])),_:1}),o(I,{class:"form-box"},{default:c((()=>[o(I,{class:"label"},{default:c((()=>[o(V,{class:"label-desc"},{default:c((()=>[d(" 止盈价 ")])),_:1}),o(I,{class:"label-input"},{default:c((()=>[o(W,{type:"text",placeholder:"请输入",modelValue:$.price_up,"onUpdate:modelValue":a[5]||(a[5]=t=>$.price_up=t)},null,8,["modelValue"]),o(V,null,{default:c((()=>[d("USDT")])),_:1})])),_:1})])),_:1}),o(I,{class:"label"},{default:c((()=>[o(V,{class:"label-desc"},{default:c((()=>[d(" 止损价 ")])),_:1}),o(I,{class:"label-input"},{default:c((()=>[o(W,{type:"text",placeholder:"请输入",modelValue:$.price_down,"onUpdate:modelValue":a[6]||(a[6]=t=>$.price_down=t)},null,8,["modelValue"]),o(V,null,{default:c((()=>[d("USDT")])),_:1})])),_:1})])),_:1})])),_:1}),o(I,{class:"footer"},{default:c((()=>[o(P,{class:"button",onClick:j.priceUpDown},{default:c((()=>[d(" 确认 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])],64)}],["__scopeId","data-v-cb2282b0"]]);export{j as default};

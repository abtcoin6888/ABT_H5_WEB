import{a as t,g as e,$ as a,l as s,M as l,O as i,r as c,Q as r,u as o,q as n,w as d,v as u,x as h,z as f,C as g,A as p,B as m,F as y,D as _,y as b,H as w,t as x,G as v,S as $,J as k,bl as S}from"./index-CGNx3rpF.js";import{_ as T}from"./fui-icon.CJc-PGr7.js";import{r as C}from"./uni-app.es.BAGiN-2A.js";import{_ as A}from"./fui-nav-bar.Dp0oIG0k.js";import{s as L}from"./strategy.DF9J66rF.js";import{_ as I}from"./fui-button.CVs2sbja.js";import{t as D,c as j}from"./createPolicy.BtDzE0Dg.js";import{e as z}from"./emptyView.hFc9NIsn.js";import{_ as U}from"./check-select.DVgewoGK.js";import{i as P}from"./index.esm.C1f77HPW.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as N}from"./fui-tabs.CGjADn2Y.js";import{_ as H}from"./fui-tag.BJQXPHDO.js";import{_ as B}from"./fui-bottom-popup.CQqo7NFh.js";import{t as M}from"./terminationStrategy.DwhjBYAi.js";import{_ as E}from"./l-painter.cjwu05Rz.js";import{_ as R}from"./fui-backdrop.CYap8HrI.js";import"./fui-empty.CqMMajk4.js";var W=null;const O={data:()=>({chartContainer:[]}),created(){},methods:{initChart(){(W=P("kline")).applyNewData([{timestamp:16245216e5,open:2320.26,close:2300,low:2287.3,high:2362.94},{timestamp:1624608e6,open:2300,close:2291.3,low:2288.26,high:2308.38},{timestamp:16246944e5,open:2295.35,close:2346.5,low:2295.35,high:2346.92},{timestamp:16247808e5,open:2347.22,close:2358.98,low:2337.35,high:2363.8},{timestamp:16248672e5,open:2360.75,close:2382.48,low:2347.89,high:2383.76}]),W.setMaxOffsetLeftDistance(0),W.setScrollEnabled(!1),W.setStyles({grid:{show:!1},xAxis:{show:!1},yAxis:{show:!1},candle:{type:"area",area:{lineSize:1,lineColor:"#2196F3",value:"close",smooth:!0,backgroundColor:[{offset:0,color:"rgba(33, 150, 243, 0.5)"},{offset:1,color:"rgba(33, 150, 243, 0.8)"}]},priceMark:{show:!1},tooltip:{showRule:"none"},crosshair:{show:!1}}})}}},q=t=>{t.$renderjs||(t.$renderjs=[]),t.$renderjs.push("render"),t.mixins||(t.mixins=[]),t.mixins.push({beforeCreate(){this.render=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),t.mixins.push(O)},V={name:"overview",components:{tacticPopup:D,emptyView:z},computed:{...t(["userTheme"])},data:()=>({windowWidth:e.windowWidth,visible:!1,foundTabs:[],foundIndex:0,tabIndex:1,currencyType:0,balance:"0.00",profit24:"0.00",currency:[],currencyDesc:[],currencyAsc:[],contract:[],contractDesc:[],contractAsc:[],mList:[],showList:0,symbolIndex:0}),created(){this.getTotal(),this.getFt(),this.getTradeMatches(),this.getContractMatches(),this.getTradeSelect(),this.getContractSelect(),a("trades",(t=>{this.onTradeMessage(t)})),a("contract",(t=>{this.onContractMessage(t)}))},onShow(){1==s("load")&&(0==this.symbolIndex?this.getTradeSelect():this.getContractSelect(),l("load"))},methods:{async getTotal(){let t=await L.total();this.balance=t.data.balance,this.profit24=t.data.profit24},getFt(){this.foundTabs=[{title:this.$t("strategy.t45"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15"),desc:this.$t("strategy.t46")},{imgName:"hywg",title:this.$t("strategy.t16"),desc:this.$t("strategy.t47")}]},{title:this.$t("strategy.t48"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-"+this.$t("strategy.t19"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-"+this.$t("strategy.t19"),desc:this.$t("strategy.t49"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]},{title:this.$t("strategy.t50"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-做多"+this.$t("strategy.t17"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-做多"+this.$t("strategy.t17"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]},{title:this.$t("strategy.t51"),subMenu:[{imgName:"xhwg",title:this.$t("strategy.t15")+"-"+this.$t("strategy.t18"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=1"},{imgName:"hywg",title:this.$t("strategy.t16")+"-"+this.$t("strategy.t18"),desc:this.$t("strategy.t46"),path:"/pages/contract/tactic/createPolicy/creation/creation?type_id=2"}]}]},onContractMessage(t){200==t.type&&(this.contract.length>0&&(this.contract=this.$util.compareCurrency(this.contract,t.data.data)),1==this.symbolIndex&&this.mList.length>0&&(this.mList=this.$util.compareCurrency(this.mList,t.data.data)))},onTradeMessage(t){if(100!=t.type)return!1;if(0==this.active&&0==this.symbolIndex)try{this.mList=this.$util.compareCurrency(this.mList,t.data),this.$forceUpdate()}catch(e){console.log(e)}if(1==this.active)try{this.currency=this.$util.compareCurrency(this.currency,t.data),this.$forceUpdate()}catch(e){console.log(e)}},async getContractMatches(){let t=s("contract-matches");""!=t&&void 0!==t||(console.log("reload"),t=await currencyApi.contractCurrencyList(),i("contract-matches",t.data),t=t.data),this.contract=t[0].currency,this.contractDesc=this.$util.sortDesc(this.contract),this.contractAsc=this.$util.sortAsc(this.contract),console.log(this.contractDesc,this.contractAsc)},async getTradeMatches(){let t=s("trade-currency");""!=t&&void 0!==t||(t=await currencyApi.tradeCurrencyList(),i("trade-currency",t.data),t=t.data),this.currency=t[0].currency,this.currencyDesc=this.$util.sortDesc(this.currency),this.currencyAsc=this.$util.sortAsc(this.currency)},getContractSelect(){var t=s("select-contract");void 0!==t&&t.length>0?(this.showList=1,this.mList=t):(this.showList=0,this.mList=[])},getTradeSelect(){var t=s("select-trade");void 0!==t&&t.length>0?(this.showList=1,this.mList=t):(this.showList=0,this.mList=[])},isEmpty:t=>Array.isArray(t)?0===t.length:"object"==typeof t&&null!==t?0===Object.keys(t).length:!t}};q(V);const G=F(V,[["render",function(t,e,a,s,l,i){const $=w,k=C(c("fui-icon"),T),S=x,A=v,L=r("empty-view"),D=C(c("fui-button"),I),j=r("tactic-popup");return o(),n(S,{class:"overview","data-theme":t.userTheme},{default:d((()=>[u(S,{class:"overview-header"},{default:d((()=>[u(S,{class:"overview-header-left"},{default:d((()=>[u(S,{class:"row"},{default:d((()=>[u($,{class:"font-12 color-gray mr-5"},{default:d((()=>[h(f(t.$t("strategy.t3")),1)])),_:1}),u(k,{name:"visible",size:"32",color:"var(--content-tertiary)"})])),_:1}),u(S,{class:"row"},{default:d((()=>[u($,{class:"font-24 color-black font-bold"},{default:d((()=>[h(f(t.$util.thousandSeparator(l.balance)),1)])),_:1})])),_:1}),u(S,{class:"row"},{default:d((()=>[u($,{class:"font-12 color-black"},{default:d((()=>[h(f(t.$util.thousandSeparator(l.profit24)),1)])),_:1}),u($,{class:"font-12 color-gray"},{default:d((()=>[h(" ("+f(t.$t("strategy.t4"))+") ",1)])),_:1})])),_:1})])),_:1}),u(S,{class:"overview-header-right"},{default:d((()=>[u(S,{class:"chartContainer",ref:"kline",id:"kline","change:chartContainer":t.render.initChart,style:g(`width: ${l.windowWidth-300}px`)},null,8,["change:chartContainer","style"])])),_:1})])),_:1}),u(S,{class:"found-box"},{default:d((()=>[u(S,{class:"title-box"},{default:d((()=>[u($,{class:"font-16 color-black font-bold"},{default:d((()=>[h(f(t.$t("strategy.t5")),1)])),_:1}),u($,{class:"font-12 color-gray",onClick:e[0]||(e[0]=t=>l.visible=!0)},{default:d((()=>[h(f(t.$t("strategy.t6"))+" ",1),u(k,{name:"arrowright",size:"24",color:"var(--content-tertiary)"})])),_:1})])),_:1}),u(S,{class:"mine-tabs"},{default:d((()=>[(o(!0),p(y,null,m(l.foundTabs,((t,e)=>(o(),n(S,{class:_(["item",{"item-active":l.foundIndex===e}]),key:e,onClick:t=>l.foundIndex=e},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.title),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(S,{class:"menu-card"},{default:d((()=>[(o(!0),p(y,null,m(l.foundTabs[this.foundIndex].subMenu,(e=>(o(),n(S,{class:"item",onClick:a=>t.$util.toPage(e.path)},{default:d((()=>[u(S,{class:"item-top"},{default:d((()=>[u(A,{src:`/static/img/tactic/${e.imgName}-${t.userTheme}.webp`},null,8,["src"]),u($,{class:"font-12 color-black"},{default:d((()=>[h(f(e.title),1)])),_:2},1024)])),_:2},1024),u($,{class:"font-12 color-gray"},{default:d((()=>[h(f(e.desc),1)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1}),u(S,{class:"currency-recommendation"},{default:d((()=>[u(S,{class:"title"},{default:d((()=>[u($,{class:"font-16 color-black font-bold"},{default:d((()=>[h(f(t.$t("strategy.t7")),1)])),_:1})])),_:1}),u(S,{class:"tab-box"},{default:d((()=>[u(S,{class:"tab-box-top"},{default:d((()=>[u(S,{class:"item",type:"image",onClick:e[1]||(e[1]=t=>l.tabIndex=0)},{default:d((()=>[u(A,{src:`/static/img/tactic/sc-${0==l.tabIndex?"s":"n"}.webp`,mode:"aspectFill"},null,8,["src"])])),_:1}),u(S,{class:_(["item",{"item-active":1===l.tabIndex}]),onClick:e[2]||(e[2]=t=>l.tabIndex=1)},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t8")),1)])),_:1})])),_:1},8,["class"]),u(S,{class:_(["item",{"item-active":2===l.tabIndex}]),onClick:e[3]||(e[3]=t=>l.tabIndex=2)},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t9")),1)])),_:1})])),_:1},8,["class"])])),_:1}),u(S,{class:"tab-box-bottom mine-tabs"},{default:d((()=>[u(S,{class:_(["item",{"item-active":0===l.currencyType}]),onClick:e[4]||(e[4]=t=>{l.currencyType=0,i.getContractSelect()})},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t10")),1)])),_:1})])),_:1},8,["class"]),u(S,{class:_(["item",{"item-active":1===l.currencyType}]),onClick:e[5]||(e[5]=t=>{l.currencyType=1,i.getTradeSelect()})},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t11")),1)])),_:1})])),_:1},8,["class"])])),_:1})])),_:1}),u(S,{class:"currency-list"},{default:d((()=>[0!==l.tabIndex?(o(),n(S,{key:0,class:"currency-list-top"},{default:d((()=>[u(S,{class:"item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t12")),1)])),_:1})])),_:1}),u(S,{class:"item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t13")),1)])),_:1})])),_:1}),u(S,{class:"item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$t("strategy.t14")),1)])),_:1})])),_:1})])),_:1})):b("",!0),0===l.tabIndex?(o(),p(y,{key:1},[l.showList?(o(),n(S,{key:0,class:"currency-list-container"},{default:d((()=>[(o(!0),p(y,null,m(l.mList,((e,a)=>(o(),n(S,{class:"cell"},{default:d((()=>[u(S,{class:"cell-item"},{default:d((()=>[u($,{class:"color-black"},{default:d((()=>[h(f(e.symbol)+" ",1),1===l.currencyType?(o(),n($,{key:0},{default:d((()=>[h("/USDT")])),_:1})):(o(),p(y,{key:1},[h("USDT")],64))])),_:2},1024),u($,{class:"color-gray"},{default:d((()=>[h(f(t.$t("成交额"))+" "+f(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[e.change>0?(o(),n($,{key:0,class:"color-primary"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),u($,null,{default:d((()=>[h("≈¥ "+f(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:0==l.mList.length,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})):b("",!0),u(S,{class:"currency-list-card"},{default:d((()=>[0===l.currencyType?(o(),n(S,{key:0,class:"card-warp"},{default:d((()=>[(o(!0),p(y,null,m(l.contract,((e,a)=>(o(),n(S,{class:"card-item"},{default:d((()=>[u(S,{class:"card-item-left"},{default:d((()=>[u($,null,{default:d((()=>[h(f(e.symbol)+"USDT ",1)])),_:2},1024),u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024),e.change_rate>0?(o(),n($,{key:0,class:"color-primar"},{default:d((()=>[h(" +"+f(e.change_rate)+"% ",1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(e.change_rate)+"% ",1)])),_:2},1024))])),_:2},1024),u(S,{class:"check-box"},{default:d((()=>[u(A,{src:U})])),_:1})])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:0==l.contract.length,title:t.$t("list.not_data")},null,8,["visible","title"]),0!=l.contract.length?(o(),n(S,{key:0,class:"add-button"},{default:d((()=>[u(D,{background:"var(--text-black)",color:"var(--white)",radius:"78rpx",width:"80%",height:"78rpx",size:"24"},{default:d((()=>[h(f(t.$t("strategy.t52")),1)])),_:1})])),_:1})):b("",!0)])),_:1})):b("",!0),1===l.currencyType?(o(),n(S,{key:1,class:"card-warp"},{default:d((()=>[(o(!0),p(y,null,m(l.currency,((e,a)=>(o(),n(S,{class:"card-item"},{default:d((()=>[u(S,{class:"card-item-left"},{default:d((()=>[u($,null,{default:d((()=>[h(f(e.symbol)+" ",1),u($,null,{default:d((()=>[h("/USDT")])),_:1})])),_:2},1024),u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024),e.change_rate>0?(o(),n($,{key:0,class:"color-primar"},{default:d((()=>[h(" +"+f(e.change_rate)+"% ",1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(e.change_rate)+"% ",1)])),_:2},1024))])),_:2},1024),u(S,{class:"check-box"},{default:d((()=>[u(A,{src:U})])),_:1})])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:0==l.currency.length,title:t.$t("list.not_data")},null,8,["visible","title"]),0!=l.currency.length?(o(),n(S,{key:0,class:"add-button"},{default:d((()=>[u(D,{background:"var(--text-black)",color:"var(--white)",radius:"78rpx",width:"80%",height:"78rpx",size:"24"},{default:d((()=>[h(f(t.$t("strategy.t52")),1)])),_:1})])),_:1})):b("",!0)])),_:1})):b("",!0)])),_:1})],64)):b("",!0),1===l.tabIndex?(o(),p(y,{key:2},[0===l.currencyType?(o(),n(S,{key:0,class:"currency-list-container"},{default:d((()=>[(o(!0),p(y,null,m(l.contractDesc,((e,a)=>(o(),n(S,{class:"cell"},{default:d((()=>[u(S,{class:"cell-item"},{default:d((()=>[u($,{class:"color-black"},{default:d((()=>[h(f(e.symbol)+"USDT",1)])),_:2},1024),u($,{class:"color-gray"},{default:d((()=>[h(f(t.$t("成交额"))+" "+f(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[e.change>0?(o(),n($,{key:0,class:"color-primary"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),u($,null,{default:d((()=>[h("≈¥ "+f(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:l.contractDesc&&0===l.contractDesc.length,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})):b("",!0),1===l.currencyType?(o(),n(S,{key:1,class:"currency-list-container"},{default:d((()=>[(o(!0),p(y,null,m(l.currencyDesc,((e,a)=>(o(),n(S,{class:"cell"},{default:d((()=>[u(S,{class:"cell-item"},{default:d((()=>[u($,{class:"color-black"},{default:d((()=>[h(f(e.symbol)+" ",1),u($,null,{default:d((()=>[h("/USDT")])),_:1})])),_:2},1024),u($,{class:"color-gray"},{default:d((()=>[h(f(t.$t("成交额"))+" "+f(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[e.change>0?(o(),n($,{key:0,class:"color-primary"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),u($,null,{default:d((()=>[h("≈¥ "+f(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:l.currencyDesc&&0==l.currencyDesc.length,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})):b("",!0)],64)):b("",!0),2===l.tabIndex?(o(),p(y,{key:3},[0===l.currencyType?(o(),n(S,{key:0,class:"currency-list-container"},{default:d((()=>[(o(!0),p(y,null,m(l.contractAsc,((e,a)=>(o(),n(S,{class:"cell"},{default:d((()=>[u(S,{class:"cell-item"},{default:d((()=>[u($,{class:"color-black"},{default:d((()=>[h(f(e.symbol)+"USDT",1)])),_:2},1024),u($,{class:"color-gray"},{default:d((()=>[h(f(t.$t("成交额"))+" "+f(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[e.change>0?(o(),n($,{key:0,class:"color-primary"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),u($,null,{default:d((()=>[h("≈¥ "+f(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),u(L,{width:690,height:400,visible:l.contractAsc&&0==l.contractAsc.length,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})):b("",!0),1===l.currencyType?(o(),n(S,{key:1,class:"currency-list-container"},{default:d((()=>[(o(!0),p(y,null,m(l.currencyAsc,((e,a)=>(o(),n(S,{class:"cell"},{default:d((()=>[u(S,{class:"cell-item"},{default:d((()=>[u($,{class:"color-black"},{default:d((()=>[h(f(e.symbol)+" ",1),u($,null,{default:d((()=>[h("/USDT")])),_:1})])),_:2},1024),u($,{class:"color-gray"},{default:d((()=>[h(f(t.$t("成交额"))+" "+f(t.$util.bigNumberToString(e.quota)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[e.change>0?(o(),n($,{key:0,class:"color-primary"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)):(o(),n($,{key:1,class:"price_down"},{default:d((()=>[h(f(t.$util.thousandSeparator(e.new_price,e.decimals)),1)])),_:2},1024)),u($,null,{default:d((()=>[h("≈¥ "+f(t.$util.thousandSeparator(7.1*e.new_price)),1)])),_:2},1024)])),_:2},1024),u(S,{class:"cell-item"},{default:d((()=>[u($,null,{default:d((()=>[h(f(t.$util.thousandSeparator(e.change)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),u(L,{width:690,height:600,visible:l.currencyAsc&&0==l.currencyAsc.length,title:t.$t("list.not_data")},null,8,["visible","title"])])),_:1})):b("",!0)],64)):b("",!0)])),_:1})])),_:1}),u(j,{visible:l.visible,onClose:e[6]||(e[6]=t=>l.visible=!1)},null,8,["visible"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-341aea35"]]);const Q=F({name:"tacticShare",props:{visible:{default:!1,type:Boolean},item:{default:{},type:Object}},created(){this.setPoster()},watch:{visible(t){1==t&&this.setPoster()}},methods:{copyLink(){},async setPoster(){const t=(await L.getInviteCode()).data.invite_code;setTimeout((()=>{var e={css:{background:"#161819",width:"540rpx",height:"740rpx",overflow:"hidden",position:"relative",borderRadius:"16rpx"},views:[{type:"image",src:"/static/img/tactic/tactic-share-bg.png",css:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",borderRadius:"16rpx"}},{type:"view",css:{width:"100%",height:"83%",position:"absolute",top:"0",left:"0"},views:[{type:"image",src:"/static/home/cvlogo.png",css:{width:"100rpx",height:"50rpx",marginLeft:"30rpx",marginTop:"30rpx"}},{type:"text",text:this.item.current_date,css:{width:"100%",textAlign:"left",lineClamp:1,color:"#898989",marginLeft:"30rpx",marginTop:"10rpx"}},{type:"text",text:1==this.item.type_id?this.$t("strategy.t15"):this.$t("strategy.t16"),css:{width:"100%",textAlign:"left",lineClamp:1,fontSize:"24rpx",color:"#898989",marginLeft:"30rpx",marginTop:"80rpx"}},{type:"text",text:this.item.currency?this.item.currency.symbol:"",css:{width:"100%",textAlign:"left",lineClamp:1,color:"#ffffff",fontSize:"32rpx",fontWeight:"bold",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"text",text:this.$t("strategy.t72"),css:{width:"100%",textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"text",text:this.item.rate+"%",css:{width:"100%",textAlign:"left",lineClamp:1,color:"#ffffff",fontSize:"48rpx",fontWeight:"bold",marginLeft:"30rpx",marginTop:"20rpx"}},{type:"view",css:{width:"100%",marginTop:"30rpx"},views:[{type:"text",text:this.$t("strategy.t54"),css:{textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx"}},{type:"text",text:this.item.rate+"%",css:{textAlign:"left",fontSize:"24rpx",fontWeight:"bold",lineClamp:1,color:"#ffffff",marginLeft:"30rpx"}}]},{type:"view",css:{width:"100%",marginTop:"30rpx"},views:[{type:"text",text:this.$t("strategy.t27"),css:{textAlign:"left",fontSize:"24rpx",lineClamp:1,color:"#898989",marginLeft:"30rpx"}},{type:"text",text:this.item.run_time,css:{textAlign:"left",fontSize:"24rpx",fontWeight:"bold",lineClamp:1,color:"#ffffff",marginLeft:"30rpx"}}]}]},{type:"view",css:{width:"100%",height:"17%",position:"absolute",bottom:"0",left:"0"},views:[{type:"text",text:this.$t("strategy.t73")+"："+t,css:{width:"50%",height:"100%",paddingLeft:"30rpx",boxSizing:"border-box",fontSize:"26rpx",fontWeight:"bold",color:"#ffffff"}},{type:"view",css:{width:"88rpx",height:"88rpx",background:"#ffffff",position:"absolute",bottom:"20rpx",right:"20rpx",borderRadius:"8rpx"},views:[{type:"image",src:"/static/img/blogo.png",css:{width:"78rpx",height:"78rpx",background:"red",marginTop:"5rpx",marginLeft:"5rpx"}}]}]}]};this.$refs.dpainter.render(e)}),100)},savePoster(){this.$refs.dpainter.canvasToTempFilePathSync({fileType:"jpg",pathType:"url",quality:1,success:t=>{console.log(t.tempFilePath),window.location.href=t.tempFilePath}})},handClose(){this.$emit("close",!1)}}},[["render",function(t,e,a,s,l,i){const r=C(c("l-painter"),E),g=x,p=v,m=w,y=C(c("fui-backdrop"),R);return o(),n(y,{show:a.visible,closable:!1,zIndex:1e3,onClick:i.handClose},{default:d((()=>[u(g,{class:"share-warp"},{default:d((()=>[u(g,{class:"share-top"},{default:d((()=>[u(g,{class:"canvas-box"},{default:d((()=>[u(r,{ref:"dpainter",hidpi:!0,hybrid:"",isCanvasToTempFilePath:"","pixel-ratio":2},null,512)])),_:1})])),_:1}),u(g,{class:"share-footer"},{default:d((()=>[u(g,{class:"toggle-group"},{default:d((()=>[u(g,{class:"item",onClick:i.copyLink},{default:d((()=>[u(g,{class:"image-box"},{default:d((()=>[u(p,{src:`/static/img/tactic/share-link-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),u(m,null,{default:d((()=>[h(f(t.$t("strategy.t70")),1)])),_:1})])),_:1},8,["onClick"]),u(g,{class:"item",onClick:i.savePoster},{default:d((()=>[u(g,{class:"image-box"},{default:d((()=>[u(p,{src:`/static/img/tactic/share-down-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),u(m,null,{default:d((()=>[h(f(t.$t("strategy.t71")),1)])),_:1})])),_:1},8,["onClick"]),u(g,{class:"item"},{default:d((()=>[u(g,{class:"image-box"},{default:d((()=>[u(p,{src:`/static/img/tactic/share-more-${t.userTheme}.png`,mode:"widthFix"},null,8,["src"])])),_:1}),u(m,null,{default:d((()=>[h(f(t.$t("更多")),1)])),_:1})])),_:1})])),_:1}),u(g,{class:"cancel",onClick:i.handClose},{default:d((()=>[u(m,null,{default:d((()=>[h(f(t.$t("取消")),1)])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["show","onClick"])}],["__scopeId","data-v-5d8dedc3"]]),X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAtCAYAAADYxvnjAAAA8UlEQVR4Xu3TPQrCQBAFYLGws7AWLIK7syEEvZGd3iAH8DB6Ew9g5yFSR2x0FixkktVs3E0U3gcPQn5mhjA7GgEAAABAZEqpVBuz6RL7rawXhSIqOPcvU8i6QWVZNuEm14bGvrkt8nwm6wejtZ43NO2UJE2VrB8UNznJpr5ZEp251FjWDor/6oqbVbK5Ryo+UGtZNwo+vduGAdrFmJ2sF5XS+lAb4lOMOco60RHRlHftUhvGEfuu/UbW6YXHvva3ly6t9rXvvXR5u69D7KWLa18H3UuX576WL4OW9p587yfwYAkPuLex1/I5AAAAAMC/egCOrgSrqs3csAAAAABJRU5ErkJggg==";const Z=F({components:{overView:G,createPolicy:j,myStrategy:F({name:"myStrategy",computed:{...t(["userTheme"]),emptyTitle(){return this.$t("mystrategy.text1").replace("{}","ABT")}},components:{terminationStrategy:M,tacticShare:Q,emptyView:z},data(){return{visible:!1,coin:[],tabs:[this.$t("strategy.t29"),this.$t("strategy.t30")],mineTabs:[],shareShow:!1,list:[],tabsIdx:0,mineTabsSelectIdx:0,type_ids:[],item:{},shareItem:{},filterShow:!1,selectCurrency:"全部",selectTimer:"全部",direction:["全部","正向","反向","中性"],dtActive:0}},created(){this.getType(),a("stopStrategy",(t=>{this.getList(),this.visible=!1}))},methods:{async getType(){let t=s("strategyType");if(!t){t=(await L.type()).data}let e=[];t.level1.map((t=>{e.push(t.name),this.type_ids.push(t.id)})),t.level2.map((t=>{e.push(t.name),this.type_ids.push(t.id)})),this.mineTabs=e,this.getList()},async getList(){let t=this.type_ids[this.mineTabsSelectIdx],e=1==this.tabsIdx?2:0,a=await L.getList(t,e);this.list=a.data.list},tabsSelect(t){this.tabsIdx=t.index,this.getList()},mineTabsSelect(t){this.mineTabsSelectIdx=t,this.getList()},stop(t){this.item=t,this.visible=!0}}},[["render",function(t,e,a,s,l,i){const g=C(c("fui-tabs"),N),b=x,S=w,A=$,L=C(c("fui-icon"),T),I=C(c("fui-tag"),H),D=k,j=v,z=r("empty-view"),U=r("termination-strategy"),P=r("tactic-share"),F=C(c("fui-bottom-popup"),B);return o(),n(b,{class:"myStrategy","data-theme":t.userTheme},{default:d((()=>[u(b,{class:"page-tabs border-bottom"},{default:d((()=>[u(g,{tabs:l.tabs,height:80,alignLeft:"",scroll:"",size:28,scale:1,selectedSize:28,short:!1,onChange:i.tabsSelect,color:"var(--content-tertiary)",selectedColor:"var(--content-primary)",sliderBackground:"var(--content-primary)",background:"var(--background-primary)"},null,8,["tabs","onChange"])])),_:1}),u(b,{class:"mine-tag-box"},{default:d((()=>[u(A,{class:"sroll-view-tabs"},{default:d((()=>[(o(!0),p(y,null,m(l.mineTabs,((t,e)=>(o(),n(b,{class:_(["item",{active:l.mineTabsSelectIdx==e}]),key:e,onClick:t=>i.mineTabsSelect(e)},{default:d((()=>[u(S,{class:"font-11"},{default:d((()=>[h(f(t),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(b,{class:"icon-box"},{default:d((()=>[u(L,{name:"screen",size:"34",color:"var(--content-tertiary)",onClick:e[0]||(e[0]=t=>l.filterShow=!0)})])),_:1})])),_:1}),u(b,{class:"list-warp"},{default:d((()=>[u(A,{"scroll-y":"true",class:"tactic-list"},{default:d((()=>[(o(!0),p(y,null,m(l.list,((e,a)=>(o(),n(b,{class:"tactic-list-item"},{default:d((()=>[u(b,{class:"head"},{default:d((()=>[u(b,{class:"row"},{default:d((()=>[u(S,{class:"coin"},{default:d((()=>[h(f(e.currency.symbol)+"/USDT",1)])),_:2},1024),u(b,{class:"row-right"},{default:d((()=>[u(S,{class:"color-black font-12"},{default:d((()=>[h(f(e.new_price),1)])),_:2},1024),u(S,{class:"color-primary font-12"},{default:d((()=>[h(f(e.change_rate)+"%",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(b,{class:"row"},{default:d((()=>[u(b,{class:"row-left"},{default:d((()=>[u(I,{text:1==e.type_id?t.$t("strategy.t15"):t.$t("strategy.t16"),size:"20",color:"var(--content-tertiary)",background:"var(--background-gray)"},null,8,["text"]),u(I,{text:1==e.direction?t.$t("strategy.t17"):2==e.direction?t.$t("strategy.t18"):t.$t("strategy.t19"),size:"20",color:"var(--text-green)",background:"var(--light-green)"},null,8,["text"])])),_:2},1024)])),_:2},1024)])),_:2},1024),u(b,{class:"content-box"},{default:d((()=>[u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t20")),1)])),_:1}),u(S,{class:"color-primary"},{default:d((()=>[h(f(e.profit)+" USDT",1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t21")),1)])),_:1}),u(S,{class:"color-primary"},{default:d((()=>[h(f(e.rate)+"%",1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t22")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h(f(e.amount)+" USDT",1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t23")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h(f(e.pairedProfit)+" USDT",1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t24")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h(f(e.profit)+" USDT",1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t25")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h("--/--")])),_:1})])),_:1}),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t26")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h(f(e.created_at),1)])),_:2},1024)])),_:2},1024),u(b,{class:"item"},{default:d((()=>[u(S,null,{default:d((()=>[h(f(t.$t("strategy.t27")),1)])),_:1}),u(S,{class:"color-black"},{default:d((()=>[h(f(e.run_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(b,{class:"footer"},{default:d((()=>[2==e.status?(o(),n(D,{key:0,class:"button"},{default:d((()=>[h(f(t.$t("strategy.t31")),1)])),_:1})):(o(),n(D,{key:1,class:"button",onClick:t=>i.stop(e)},{default:d((()=>[h(f(t.$t("strategy.t32")),1)])),_:2},1032,["onClick"])),u(D,{class:"button",onClick:a=>t.$mroute.policyDetails(e.id,e.type_id)},{default:d((()=>[h(f(t.$t("strategy.t28")),1)])),_:2},1032,["onClick"]),u(b,{class:"share-box",onClick:t=>{l.shareItem=e,l.shareShow=!0}},{default:d((()=>[u(j,{src:`/static/img/tactic/share-${t.userTheme}.png`},null,8,["src"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256)),u(z,{visible:l.list&&0==l.list.length,width:690,height:600,title:i.emptyTitle},{"custom-content":d((()=>[u(D,{class:"empty-button bg-black"},{default:d((()=>[u(S,{class:"font-12 color-white"},{default:d((()=>[h(f(t.$t("mystrategy.text2")),1)])),_:1})])),_:1})])),_:1},8,["visible","title"])])),_:1})])),_:1}),u(U,{item:l.item,visible:l.visible,onClose:e[1]||(e[1]=t=>l.visible=!1)},null,8,["item","visible"]),u(P,{visible:l.shareShow,onClose:e[2]||(e[2]=t=>l.shareShow=!1),item:l.shareItem},null,8,["visible","item"]),u(F,{show:l.filterShow,"z-index":"1100",background:"var(--background-primary)"},{default:d((()=>[u(b,{class:"filter-warp"},{default:d((()=>[u(b,{class:"filter-title"},{default:d((()=>[u(S,{class:"font-16 font-weight color-black"},{default:d((()=>[h("筛选")])),_:1}),u(b,{class:"close-icon"},{default:d((()=>[u(L,{name:"close",size:"42",color:"var(--content-primary)",onClick:e[3]||(e[3]=t=>l.filterShow=!1)})])),_:1})])),_:1}),u(b,{class:"filter-container"},{default:d((()=>[u(b,{class:"item"},{default:d((()=>[u(S,{class:"font-13 font-weight color-black"},{default:d((()=>[h("币种")])),_:1}),u(b,{class:"item-box"},{default:d((()=>[u(S,{class:"font-13 color-black"},{default:d((()=>[h(f(l.selectCurrency),1)])),_:1}),u(j,{src:X})])),_:1})])),_:1}),u(b,{class:"item"},{default:d((()=>[u(S,{class:"font-13 font-weight color-black"},{default:d((()=>[h("方向")])),_:1}),u(b,{class:"item-group"},{default:d((()=>[(o(!0),p(y,null,m(l.direction,((t,e)=>(o(),n(b,{class:_(["g-i",{active:l.dtActive==e}]),onClick:t=>l.dtActive=e},{default:d((()=>[u(S,{class:"font-13 color-black"},{default:d((()=>[h(f(t),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1}),u(b,{class:"item"},{default:d((()=>[u(S,{class:"font-13 font-weight color-black"},{default:d((()=>[h("时间")])),_:1}),u(b,{class:"item-box"},{default:d((()=>[u(S,{class:"font-13 color-black"},{default:d((()=>[h(f(l.selectTimer),1)])),_:1}),u(j,{src:X})])),_:1})])),_:1})])),_:1}),u(b,{class:"filter-buttons"},{default:d((()=>[u(b,{class:"b-i"},{default:d((()=>[u(S,{class:"font-14 font-weight color-black"},{default:d((()=>[h("重置")])),_:1})])),_:1}),u(b,{class:"b-i",onClick:e[4]||(e[4]=t=>l.filterShow=!1)},{default:d((()=>[u(S,{class:"font-14 font-weight color-white"},{default:d((()=>[h("确定")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-e007a74e"]]),tacticPopup:D},computed:{...t(["userTheme"])},onLoad(t){t.barActive?this.barActive=parseInt(t.barActive):this.visible=!1},onShow(){this.getType()},data(){return{navHeight:"",toggleBarHeight:"",containerHeight:"",navTitle:this.$t("strategy.t41"),footerBar:[{src:"zl-n.webp",selected_light:"zl-s-light.webp",selected_dark:"zl-s-dark.webp",text:this.$t("strategy.t44")},{src:"cjcl-n.webp",selected_light:"cjcl-s-light.webp",selected_dark:"cjcl-s-dark.webp",text:this.$t("strategy.t42")},{src:"wdcl-n.webp",selected_light:"wdcl-s-light.webp",selected_dark:"wdcl-s-dark.webp",text:this.$t("strategy.t43")}],barActive:0,visible:!1}},watch:{barActive(t){switch(t){case 0:this.navTitle=this.$t("strategy.t41");break;case 1:this.navTitle=this.$t("strategy.t42");break;case 2:this.navTitle=this.$t("strategy.t43")}}},mounted(){this.getElementHeight()},methods:{navInit(t){this.navHeight=t.height+t.statusBarHeight;const a=e().windowHeight;this.containerHeight=a-this.navHeight-this.toggleBarHeight},getElementHeight(){S().in(this).select("#toggleBar").boundingClientRect((t=>{this.toggleBarHeight=t.height})).exec()},async getType(){let t=await L.type();i("strategyType",t.data)}}},[["render",function(t,e,a,s,l,i){const $=C(c("fui-icon"),T),k=C(c("fui-nav-bar"),A),S=r("over-view"),L=r("create-policy"),I=r("my-strategy"),D=x,j=v,z=w,U=r("tactic-popup");return o(),n(D,{class:"tactic-warp","data-theme":t.userTheme},{default:d((()=>[u(k,{isFixed:"",isOccupy:"",zIndex:"9",title:l.navTitle,background:"var(--background-primary)",color:"var(--content-primary)",onInit:i.navInit,onLeftClick:e[0]||(e[0]=e=>t.$mroute.back())},{default:d((()=>[u($,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title","onInit"]),u(D,{class:"tactic-container",style:g(`height: ${l.containerHeight}px`)},{default:d((()=>[0===l.barActive?(o(),n(S,{key:0})):b("",!0),1===l.barActive?(o(),n(L,{key:1})):b("",!0),2===l.barActive?(o(),n(I,{key:2})):b("",!0)])),_:1},8,["style"]),u(D,{class:"footer-bar",id:"toggleBar"},{default:d((()=>[(o(!0),p(y,null,m(l.footerBar,((e,a)=>(o(),n(D,{class:_(["bar-item",{"bar-active":l.barActive===a}]),key:a,onClick:t=>l.barActive=a},{default:d((()=>[l.barActive!=a?(o(),n(j,{key:0,src:`/static/img/tactic/${e.src}`,mode:"widthFix"},null,8,["src"])):(o(),n(j,{key:1,src:`/static/img/tactic/${"light"==t.userTheme?e.selected_light:e.selected_dark}`,mode:"widthFix"},null,8,["src"])),u(z,null,{default:d((()=>[h(f(e.text),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),u(U,{visible:l.visible,onClose:e[1]||(e[1]=t=>l.visible=!1)},null,8,["visible"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-8ae12e48"]]);export{Z as default};

import{a as t,i as a,a5 as e,r as o,q as c,w as l,t as r,u as s,v as n,x as i,z as d,H as f,W as u}from"./index-Crl9YJuv.js";import{_}from"./fui-icon.DR4EBh1k.js";import{r as m}from"./uni-app.es.DGAn-rK5.js";import{_ as p}from"./fui-nav-bar.BWTrzAGW.js";import{_ as h}from"./fui-switch.B9KCl9GX.js";import{_ as g}from"./fui-button.DywjBHJb.js";import{_ as b}from"./loading.DJvK2rcY.js";import{_ as v}from"./alert.BH0adChV.js";import{_ as k}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./fui-loading.BJbn8vuY.js";import"./uni-popup.xy3aTQLU.js";import"./uni-popup-dialog.D9c9DJQu.js";const $=k({components:{fuiSwitch:h,fuiNavBar:p},data:()=>({config:{},mtrade:"",mcontract:"",ftrade:0,fcontract:0,checked:!1,content:""}),onShow(){this.getConfig()},computed:{...t(["userTheme"])},methods:{submit(){if(""===this.ftrade||""===this.fcontract)return!1;const t={mtrade:this.mtrade,ftrade:this.ftrade,mcontract:this.mcontract,fcontract:this.fcontract,is_default:this.checked?1:0};this.$refs.loading.open(),a.saveShareSetting(t).then((t=>{this.$refs.loading.close(),200===t.code?e():(this.content=t.message,this.$refs.alert.open())})).catch((t=>{this.$refs.loading.close(),this.content=res.message,this.$refs.alert.open()}))},change(t){console.log(t),this.checked=t.detail.value},inputFtrade(t){var a=t.detail.value;""!=a&&a>0&&a<=parseFloat(this.config.income_ratio_trade_agent)?(this.mtrade=parseInt(this.config.income_ratio_trade_agent)-parseInt(a),this.ftrade=a):(this.mtrade=this.config.income_ratio_trade_agent,this.ftrade="")},inputFcontract(t){var a=t.detail.value;""!=a&&a>0&&a<=parseInt(this.config.income_ratio_contract_agent)?(this.mcontract=parseInt(this.config.income_ratio_contract_agent)-a,this.fcontract=a):(this.mcontract=this.config.income_ratio_contract_agent,this.fcontract="")},getConfig(){a.getShareConfig().then((t=>{this.config=t.data,console.log(t.data),this.mtrade=parseInt(t.data.income_ratio_trade_agent),this.mcontract=parseInt(t.data.income_ratio_contract_agent)}))}}},[["render",function(t,a,e,k,$,x){const j=m(o("fui-icon"),_),y=m(o("fui-nav-bar"),p),I=f,w=r,C=u,F=m(o("fui-switch"),h),S=m(o("fui-button"),g),z=m(o("loading"),b),R=m(o("alert"),v);return s(),c(w,{class:"addLink","data-theme":t.userTheme},{default:l((()=>[n(y,{isFixed:"",isOccupy:"",zIndex:"9",background:"var(--background-primary)",color:"var(--content-primary)",title:t.$t("sadd.t1"),onLeftClick:a[0]||(a[0]=a=>t.$mroute.back())},{default:l((()=>[n(j,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title"]),n(w,{class:"cell"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t2")),1)])),_:1}),n(I,{class:"font-13 color-gray"},{default:l((()=>[i(d(t.$t("sadd.t3"))+"： ",1),n(I,{class:"color-warring"},{default:l((()=>[i(d($.config.income_ratio_trade_agent)+"% ",1)])),_:1}),i(" | "+d(t.$t("sadd.t4"))+"： ",1),n(I,{class:"color-warring"},{default:l((()=>[i(d($.config.income_ratio_contract_agent)+"% ",1)])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t5")),1)])),_:1}),n(w,{class:"box"},{default:l((()=>[n(C,{type:"digit",modelValue:$.mtrade,"onUpdate:modelValue":a[1]||(a[1]=t=>$.mtrade=t),disabled:"",placeholder:t.$t("sadd.t5")},null,8,["modelValue","placeholder"]),n(I,{class:"font-13 color-black"},{default:l((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t6")),1)])),_:1}),n(w,{class:"box"},{default:l((()=>[n(C,{type:"digit",value:$.ftrade,onInput:x.inputFtrade,placeholder:t.$t("calc.t9")},null,8,["value","onInput","placeholder"]),n(I,{class:"font-13 color-black"},{default:l((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t7")),1)])),_:1}),n(w,{class:"box"},{default:l((()=>[n(C,{type:"digit",value:$.mcontract,disabled:"",placeholder:t.$t("sadd.t7")},null,8,["value","placeholder"]),n(I,{class:"font-13 color-black"},{default:l((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell-box"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t8")),1)])),_:1}),n(w,{class:"box"},{default:l((()=>[n(C,{type:"digit",value:$.fcontract,onInput:x.inputFcontract,placeholder:t.$t("calc.t9")},null,8,["value","onInput","placeholder"]),n(I,{class:"font-13 color-black"},{default:l((()=>[i("%")])),_:1})])),_:1})])),_:1}),n(w,{class:"cell_row"},{default:l((()=>[n(I,{class:"font-13 color-black"},{default:l((()=>[i(d(t.$t("sadd.t9")),1)])),_:1}),n(F,{color:"var(--color-primary)",onChange:x.change,scaleRatio:"0.8"},null,8,["onChange"])])),_:1}),n(w,{class:"footer-button"},{default:l((()=>[n(S,{height:"78rpx",radius:"78rpx",size:"26",onClick:x.submit,color:"var(--background-primary)",background:"var(--content-primary)"},{default:l((()=>[i(d(t.$t("sadd.t10")),1)])),_:1},8,["onClick"])])),_:1}),n(z,{ref:"loading"},null,512),n(R,{ref:"alert",content:$.content},null,8,["content"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-7739e15f"]]);export{$ as default};

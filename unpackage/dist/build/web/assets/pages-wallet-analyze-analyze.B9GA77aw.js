import{_ as a}from"./fui-icon.BbrID5X2.js";import{a as t,i as e,g as s,n as i,r as l,q as o,w as r,t as n,u as d,v as c,x as u,z as m,A as p,B as h,F as f,y as g,C as y,H as b,S as x,D as _,G as k}from"./index-CvJkP8r7.js";import{r as v}from"./uni-app.es.4grYzir1.js";import{_ as w}from"./fui-nav-bar.CZAK61wT.js";import{_ as L}from"./fui-sticky.DQoEu0oQ.js";import{_ as $}from"./qiun-data-charts._mLfWSqZ.js";import{_ as C}from"./fui-modal.BYPTO-CG.js";import{_ as z}from"./fui-date-picker.CmBW48wL.js";import{_ as S}from"./loading.CdlUmBbP.js";import{_ as T}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-charts.sQW8Av4g.js";import"./fui-loading.BOHvl-ks.js";import"./uni-popup.BKNKbknm.js";const A=T({data(){return{pageBodyHeight:"",assetsArr:{assetsContent:[{title:this.$t("analyze.text1"),limit:"0.00"}],plArr:[{text:this.$t("analyze.text2"),amount:"0.00"},{text:this.$t("analyze.text3"),amount:"0.00"},{text:this.$t("analyze.text4"),amount:"0.00"}]},primaryTabs:[this.$t("analyze.text5"),this.$t("analyze.text6"),this.$t("analyze.text7")],primaryTabCurrent:0,timeTabs:[this.$t("analyze.text8"),this.$t("analyze.text9")],timeTabCurrent:0,modalShow:!1,modalActive:0,modalContent:[this.$t("analyze.text14"),this.$t("analyze.text15"),this.$t("analyze.text16")],datePickerShow:!1,opts:{day:{color:["#4d9eb1"],padding:[15,0,0,0],animation:!0,dataLabel:!1,enableScroll:!1,dataPointShape:!1,legend:{},xAxis:{disabled:!0,disableGrid:!0,axisLine:!0,title:"日期",fontSize:5,titleFontSize:5,boundaryGap:"center",gridType:"solid",gridColor:"#262323"},yAxis:{gridType:"dash",dashLength:2,disabled:!1,disableGrid:!1,axisLine:!1,gridColor:"#262323",data:[{min:0,max:4e3}]},extra:{tooltip:{showBox:!0,splitLine:!1},column:{type:"group",opacity:.5,addLine:!0,width:10,gradient:!0,activeBgColor:"#000000",activeBgOpacity:.08}}},sum:{color:["#4d9eb1"],padding:[15,0,0,0],animation:!0,dataLabel:!1,enableScroll:!1,dataPointShape:!1,legend:{},xAxis:{disabled:!0,disableGrid:!0,axisLine:!0,title:"日期",fontSize:5,titleFontSize:5,boundaryGap:"center",gridType:"solid",gridColor:"#262323"},yAxis:{disabled:!1,disableGrid:!1,axisLine:!1,gridColor:"#262323",data:[{type:"value",position:"left",axisLine:!1,axisLineColor:"#262323",calibration:!1,fontSize:12,tofix:2,min:0,max:0}]},extra:{tooltip:{showBox:!0,splitLine:!1},line:{type:"curve",opacity:.5,addLine:!0,width:2,gradient:!0,activeType:"none"}}},balance:{color:["#4d9eb1"],padding:[15,0,0,0],animation:!0,dataLabel:!1,enableScroll:!1,dataPointShape:!1,legend:{},xAxis:{disabled:!0,disableGrid:!0,axisLine:!0,title:"日期",fontSize:5,titleFontSize:5,boundaryGap:"center",gridType:"solid",gridColor:"#262323"},yAxis:{gridType:"dash",dashLength:2,disabled:!1,disableGrid:!1,axisLine:!1,gridColor:"#262323",data:[{tofix:2,min:0,max:4e3}]},extra:{tooltip:{showBox:!0,splitLine:!1},line:{type:"curve",opacity:.5,addLine:!0,width:2,gradient:!0,activeType:"none"}}}},groupData:{sumProfit:{categories:[],series:[{name:"日期",data:[]}]},dayProfit:{categories:[],series:[{name:"日期",data:[]}]},balance:{categories:[],series:[{name:"日期",data:[]}]}},balance:{},timedate:"",total:"0.00",group:{}}},computed:{...t(["userTheme"])},onShow(){this.getData()},watch:{timeTabCurrent(a){this.getData()}},methods:{getData(){e.analyze({day:0===this.timeTabCurrent?7:30}).then((a=>{this.group=a.data,this.balance=a.data.balance,this.timedate=a.data.time,this.total=a.data.total,this.assetsArr.assetsContent[0].limit=this.$util.thousandSeparator(parseFloat(a.data.balance.contract_balance)+parseFloat(a.data.balance.lock_contract)),this.assetsArr.plArr[0].amount=this.$util.thousandSeparator(a.data.day,2),this.assetsArr.plArr[1].amount=this.$util.thousandSeparator(a.data.week,2),this.assetsArr.plArr[2].amount=this.$util.thousandSeparator(a.data.month,2);let t=this.opts.sum;t.yAxis.data[0].min=1.3*a.data.sumList.value.reduce(((a,t)=>Math.min(a,t)),1/0),t.yAxis.data[0].max=1.3*a.data.sumList.value.reduce(((a,t)=>Math.max(a,t)),-1/0),this.opts.sum=t;let e=this.groupData.sumProfit;e.categories=a.data.sumList.key,e.series[0]={data:a.data.sumList.value,name:""},this.groupData.sumProfit=e;let s=this.opts.day;s.yAxis.data[0].min=1.3*a.data.dayList.value.reduce(((a,t)=>Math.min(a,t)),1/0),s.yAxis.data[0].max=1.3*a.data.dayList.value.reduce(((a,t)=>Math.max(a,t)),-1/0),this.opts.day=s;let i=[];a.data.dayList.value.map((a=>{parseFloat(a)>=0?i.push({value:parseFloat(a),color:"#4d9eb0"}):i.push({value:parseFloat(a),color:"#e5054b"})}));let l=this.groupData.dayProfit;l.categories=a.data.dayList.key,l.series[0]={data:i,name:""},this.groupData.dayProfit=l;let o=this.opts.balance;o.yAxis.data[0].min=1.3*a.data.balanceList.value.reduce(((a,t)=>Math.min(a,t)),1/0),o.yAxis.data[0].max=1.3*a.data.balanceList.value.reduce(((a,t)=>Math.max(a,t)),-1/0),this.opts.balance=o;let r=this.groupData.balance;r.categories=a.data.balanceList.key,r.series[0]={data:a.data.balanceList.value,name:""},this.groupData.balance=r}))},initNavigation(a){this.pageBodyHeight=s().windowHeight-a.height-a.statusBarHeight},primaryTabSwtich(a){this.primaryTabCurrent=a},timeTabSwitch(a){this.timeTabCurrent=a,this.datePickerShow=2==a},modalOpen(a){this.modalActive=a,this.modalShow=!0},pickerChange(a){console.log(a)},toDetails(){console.log("111"),i({url:"/pages/wallet/analyze/datedetails/datedetails"})}}},[["render",function(t,e,s,i,k,T){const A=v(l("fui-icon"),a),D=n,P=b,j=v(l("fui-nav-bar"),w),B=v(l("fui-sticky"),L),G=v(l("qiun-data-charts"),$),F=x,H=v(l("fui-modal"),C),M=v(l("fui-date-picker"),z),O=v(l("loading"),S);return d(),o(D,{class:"page-warp bg-white","data-theme":t.userTheme},{default:r((()=>[c(j,{custom:"",statusBar:"",background:"var(--background-primary)",onInit:t.initNavigation},{default:r((()=>[c(D,{class:"page-navigation"},{default:r((()=>[c(D,{class:"nav-back"},{default:r((()=>[c(A,{name:"arrowleft",size:"56",color:"var(--content-primary)",onClick:e[0]||(e[0]=a=>t.$mroute.back())})])),_:1}),c(D,{class:"nav-title"},{default:r((()=>[c(P,{class:"font-16 font-weight color-black"},{default:r((()=>[u(m(t.$t("analyze.text0")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["onInit"]),c(F,{class:"page-scroll-view","scroll-y":!0,"show-scrollbar":!1,"scroll-with-animation":!0,"scroll-into-view":`tab${t.primaryTabCurrent}`,style:y(`height: ${t.pageBodyHeight}px;`)},{default:r((()=>[c(D,{class:"scroll-container"},{default:r((()=>[c(D,{class:"assets"},{default:r((()=>[c(D,{class:"assets-container"},{default:r((()=>[(d(!0),p(f,null,h(t.assetsArr.assetsContent,(a=>(d(),o(D,{class:"estimate"},{default:r((()=>[c(P,{class:"font-12 font-weight color-gray"},{default:r((()=>[u(m(a.title)+"(USDT) ",1)])),_:2},1024),c(P,{class:"font-22 font-bold color-black"},{default:r((()=>[u(m(a.limit),1)])),_:2},1024)])),_:2},1024)))),256)),c(D,{class:"pl-array"},{default:r((()=>[(d(!0),p(f,null,h(t.assetsArr.plArr,(a=>(d(),o(D,{class:"pl-item"},{default:r((()=>[c(P,{class:"font-11 font-weight color-gray"},{default:r((()=>[u(m(a.text),1)])),_:2},1024),c(P,{class:"font-12 color-black"},{default:r((()=>[u(" $"+m(a.amount),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1}),g("",!0)])),_:1}),c(D,{class:"update-time"},{default:r((()=>[c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.$t("analyze.text19"))+"："+m(t.timedate),1)])),_:1})])),_:1})])),_:1}),c(B,null,{default:r((()=>[c(D,{class:"tabs-warp bg-white"},{default:r((()=>[c(D,{class:"primary-tabs"},{default:r((()=>[(d(!0),p(f,null,h(t.primaryTabs,((a,e)=>(d(),o(D,{class:"item",key:e,onClick:a=>t.primaryTabSwtich(e)},{default:r((()=>[c(P,{class:_(["font-13",t.primaryTabCurrent==e?"item-active color-black font-weight":"color-gray"])},{default:r((()=>[u(m(a),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1}),c(D,{class:"time-tabs"},{default:r((()=>[(d(!0),p(f,null,h(t.timeTabs,((a,e)=>(d(),o(D,{class:"item",key:e,onClick:a=>t.timeTabSwitch(e)},{default:r((()=>[c(P,{class:_(["font-11",t.timeTabCurrent==e?"time-active color-black font-weight":"color-gray"])},{default:r((()=>[u(m(a),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),c(D,{class:"chart-arr"},{default:r((()=>[c(D,{class:"chart-item",id:"tab0"},{default:r((()=>[c(D,{class:"item-title",onClick:e[2]||(e[2]=a=>t.modalOpen(0))},{default:r((()=>[c(P,{class:"font-15 font-bold color-black"},{default:r((()=>[u(m(t.$t("analyze.text5")),1)])),_:1}),c(A,{name:"info",size:"32",color:"var(--content-tertiary)"})])),_:1}),c(D,{class:"item-descr"},{default:r((()=>[c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.$t("analyze.text11")),1)])),_:1}),c(P,{class:"font-11 color-black limit-text font-weight"},{default:r((()=>[u(" $"+m(t.$util.thousandSeparator(t.total)),1)])),_:1})])),_:1}),c(D,{class:"chart-container"},{default:r((()=>[c(G,{type:"tarea",opts:t.opts.sum,chartData:t.groupData.sumProfit},null,8,["opts","chartData"])])),_:1})])),_:1}),c(D,{class:"chart-item",id:"tab1"},{default:r((()=>[c(D,{class:"item-title",onClick:e[3]||(e[3]=a=>t.modalOpen(1))},{default:r((()=>[c(P,{class:"font-15 font-bold color-black"},{default:r((()=>[u(m(t.$t("analyze.text6")),1)])),_:1}),c(A,{name:"info",size:"32",color:"var(--content-tertiary)"})])),_:1}),c(D,{class:"item-descr descr-padding bg-gray"},{default:r((()=>[c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.group.dayList?t.group.dayList.key[t.group.dayList.key.length-1]:0),1)])),_:1}),c(D,{class:"descr-cell"},{default:r((()=>[c(P,{class:"font-11 color-black limit-text font-weight"},{default:r((()=>[u(" $"+m(t.$util.thousandSeparator(t.group.dayList?t.group.dayList.value[t.group.dayList.value.length-1]:0)),1)])),_:1}),c(D,{class:"cell-right"},{default:r((()=>[c(P,{class:"font-11 color-black"},{default:r((()=>[u(m(t.$t("analyze.text12")),1)])),_:1}),c(P,{class:"font-11 color-black"},{default:r((()=>[u(m(t.$t("analyze.text13")),1)])),_:1})])),_:1})])),_:1})])),_:1}),c(D,{class:"chart-container"},{default:r((()=>[c(G,{type:"column",opts:t.opts.day,chartData:t.groupData.dayProfit},null,8,["opts","chartData"])])),_:1})])),_:1}),c(D,{class:"chart-item",id:"tab2"},{default:r((()=>[c(D,{class:"item-title",onClick:e[4]||(e[4]=a=>t.modalOpen(2))},{default:r((()=>[c(P,{class:"font-15 font-bold color-black"},{default:r((()=>[u(m(t.$t("analyze.text7")),1)])),_:1}),c(A,{name:"info",size:"32",color:"var(--content-tertiary)"})])),_:1}),c(D,{class:"item-descr descr-padding bg-gray"},{default:r((()=>[c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.group.balanceList?t.group.balanceList.key[t.group.balanceList.key.length-1]:0),1)])),_:1}),c(P,{class:"font-11 color-black limit-text font-weight"},{default:r((()=>[u(" $"+m(t.$util.thousandSeparator(t.group.balanceList?t.group.balanceList.value[t.group.balanceList.value.length-1]:0)),1)])),_:1})])),_:1}),c(D,{class:"chart-container"},{default:r((()=>[c(G,{type:"tarea",opts:t.opts.balance,chartData:t.groupData.balance},null,8,["opts","chartData"])])),_:1})])),_:1})])),_:1}),c(D,{class:"prompt-text"},{default:r((()=>[c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.$t("analyze.text17")),1)])),_:1}),c(P,{class:"font-11 color-gray"},{default:r((()=>[u(m(t.$t("analyze.text18")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["scroll-into-view","style"]),c(H,{show:t.modalShow,title:t.primaryTabs[t.modalActive],descr:t.modalContent[t.modalActive],buttons:[],size:"32",color:"var(--content-primary)",descrColor:"var(--content-primary)",background:"var(--background-primary)"},{default:r((()=>[c(D,{class:"modal-button bg-black button-active",onClick:e[5]||(e[5]=a=>t.modalShow=!1)},{default:r((()=>[c(P,{class:"font-14 font-weight color-white"},{default:r((()=>[u(m(t.$t("entrust.t37")),1)])),_:1})])),_:1})])),_:1},8,["show","title","descr"]),c(M,{show:t.datePickerShow,theme:t.userTheme,range:!0,start:t.$t("text.start_time"),end:t.$t("text.end_time"),cancelText:t.$t("login.cancel"),confirmText:t.$t("login.confirm"),type:"3",onChange:t.pickerChange,onCancel:e[6]||(e[6]=a=>t.datePickerShow=!1)},null,8,["show","theme","start","end","cancelText","confirmText","onChange"]),c(O,{ref:"loading"},null,512)])),_:1},8,["data-theme"])}],["__scopeId","data-v-4e76dd41"]]);export{A as default};

import{a as t,i as e,f as a,g as s,r as o,q as l,w as r,t as i,u as n,v as c,x as d,z as u,D as p,y as f,C as h,A as m,B as g,F as b,G as k,H as y,W as _}from"./index-CvJkP8r7.js";import{_ as w}from"./fui-icon.BbrID5X2.js";import{r as x}from"./uni-app.es.4grYzir1.js";import{_ as $}from"./fui-nav-bar.CZAK61wT.js";import{_ as C}from"./coin-indexed-xlist.B8OWLfeG.js";import{_ as v}from"./fui-bottom-popup.DM1MES5b.js";import{_ as j}from"./alert.DkjAnFY_.js";import{_ as P}from"./loading.CdlUmBbP.js";import{_ as z}from"./authPop.CwFbtQQB.js";import{u as A}from"./user.PBjN9YNI.js";import{_ as L}from"./btc.CQEfMToJ.js";import{_ as I}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-popup-dialog.jPMVSOx-.js";import"./uni-popup.BKNKbknm.js";import"./fui-loading.BOHvl-ks.js";import"./fui-button.BkeFLZEF.js";const H=I({data(){return{windowHeight:null,coinListHeight:null,address:"",remark:"",unfilledCheckArr:[],coin:[],netlist:[],net:!1,current:!1,currencyPopup:!1,networkPopup:!1,network:"",title:this.$t("login.t11"),content:"",type:""}},computed:{...t(["userTheme"])},mounted(){},created(){this.getCurrency()},methods:{confirms(t){e.addBook({currency_id:this.current.id,address:this.address,des:this.remark,code:t,type:this.type,network:this.netlist[this.net].id}).then((t=>{t.success?(a({title:this.$t("google.save_suc"),icon:"none",mask:!0}),this.$mroute.back()):(this.content=t.message,this.$refs.alert.open())}))},scan(){},navInit(t){const e=s().windowHeight;this.coinListHeight=e-t.height-t.statusBarHeight},confirm(){if(!1===this.net||""===this.address)return this.unfilledCheckArr[0]=!1===this.net,this.unfilledCheckArr[1]=""===this.address,!1;this.$refs.loading.open(),A.getUniCode().then((t=>{this.$refs.loading.close(),0!==t.data.type?(this.type=t.data.type,"google"===t.data.type&&(this.title=this.$t("secrety.google_ver")),"email"===t.data.type&&(this.title=this.$t("secrety.email_ver")),"phone"===t.data.type&&(this.title=this.$t("secrety.phone_ver")),this.$refs.authPop.open()):(this.content=this.$t("secrety.fail_send"),this.$refs.alert.open())}))},getCurrency(){e.getAccountCurrency().then((t=>{this.coin=t.data,this.coin.length>0?(this.current=this.coin[0],console.log(this.coin),this.getNetList(this.coin[0].id)):console.log("No ETH or BTC currencies with positive balance.")}))},getNetList(t){e.getNetList(t).then((t=>{this.netlist=t.data.list,this.net=0}))},itemclick(t){this.current=t,this.getNetList(t.id),this.currencyPopup=!1}}},[["render",function(t,e,a,s,A,I){const H=x(o("fui-icon"),w),B=x(o("fui-nav-bar"),$),T=k,V=y,N=i,F=_,U=x(o("coin-indexed-xlist"),C),q=x(o("fui-bottom-popup"),v),E=x(o("alert"),j),D=x(o("loading"),P),G=x(o("authPop"),z);return n(),l(N,{class:"page-warp bg-white","data-theme":t.userTheme},{default:r((()=>[c(B,{zIndex:"9",statusBar:!0,title:t.$t("address.text3"),background:"var(--background-primary)",color:"var(--content-primary)",onLeftClick:e[0]||(e[0]=e=>t.$mroute.back())},{default:r((()=>[c(H,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title"]),c(N,{class:"page-container"},{default:r((()=>[c(N,{class:"label"},{default:r((()=>[c(N,{class:"label-box bg-gray",onClick:e[1]||(e[1]=t=>A.currencyPopup=!0)},{default:r((()=>[!1===A.current?(n(),l(N,{key:0,class:"currency-box"},{default:r((()=>[c(T,{class:"currency-icon",src:L,mode:"widthFix"}),c(V,{class:"font-14 font-bold font-weight"},{default:r((()=>[d("BTC")])),_:1})])),_:1})):(n(),l(N,{key:1,class:"currency-box"},{default:r((()=>[c(T,{class:"currency-icon",src:A.current.icon,mode:"widthFix"},null,8,["src"]),c(V,{class:"font-14 font-bold color-black"},{default:r((()=>[d(u(A.current.symbol),1)])),_:1})])),_:1}))])),_:1})])),_:1}),A.netlist.length>0&&!1!==A.net?(n(),l(N,{key:0,class:"label label-size"},{default:r((()=>[c(V,{class:"label-text font-13 color-black"},{default:r((()=>[d(u(t.$t("address.text4")),1)])),_:1}),c(N,{class:p(["label-box bg-gray label-size",{"no-content":A.unfilledCheckArr[0]}]),onClick:e[2]||(e[2]=t=>A.networkPopup=!0)},{default:r((()=>[c(F,{class:"font-14 color-black font-weight",type:"text",value:A.netlist[A.net].symbol,placeholder:t.$t("address.text5"),disabled:!0},null,8,["value","placeholder"]),c(H,{name:"arrowright",size:"42",color:"var(--content-primary)"})])),_:1},8,["class"]),A.unfilledCheckArr[0]?(n(),l(V,{key:0,class:"tooltip price_down font-12"},{default:r((()=>[d(u(t.$t("address.text5")),1)])),_:1})):f("",!0)])),_:1})):f("",!0),c(N,{class:"label label-size"},{default:r((()=>[c(V,{class:"label-text font-13 color-black"},{default:r((()=>[d(u(t.$t("address.text6")),1)])),_:1}),c(N,{class:p(["label-box bg-gray label-size",{"no-content":A.unfilledCheckArr[1]}])},{default:r((()=>[c(F,{class:"font-14 color-black font-weight",modelValue:A.address,"onUpdate:modelValue":e[3]||(e[3]=t=>A.address=t),type:"text","adjust-position":!1,placeholder:t.$t("address.text7"),onFocus:e[4]||(e[4]=t=>A.unfilledCheckArr[1]=!1)},null,8,["modelValue","placeholder"])])),_:1},8,["class"]),A.unfilledCheckArr[1]?(n(),l(V,{key:0,class:"tooltip price_down font-12"},{default:r((()=>[d(u(t.$t("address.text7")),1)])),_:1})):f("",!0)])),_:1}),c(N,{class:"label"},{default:r((()=>[c(V,{class:"label-text font-13 color-black"},{default:r((()=>[d(u(t.$t("address.text8")),1)])),_:1}),c(N,{class:"label-box bg-gray"},{default:r((()=>[c(F,{class:"font-14 color-black font-weight",type:"text",placeholder:t.$t("address.text9"),modelValue:A.remark,"onUpdate:modelValue":e[5]||(e[5]=t=>A.remark=t),"adjust-position":!1},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])),_:1}),c(N,{class:"confirm"},{default:r((()=>[c(N,{class:"button bg-black",onClick:I.confirm},{default:r((()=>[c(V,{class:"font-14 font-weight color-white"},{default:r((()=>[d(u(t.$t("address.text10")),1)])),_:1})])),_:1},8,["onClick"])])),_:1}),c(q,{show:A.currencyPopup,background:"var(--background-primary)"},{default:r((()=>[c(N,{class:"popup-warp"},{default:r((()=>[c(B,{zIndex:"2",statusBar:!0,background:"var(--background-primary)",color:"var(--content-primary)",title:t.$t("financing.t85"),onLeftClick:e[6]||(e[6]=t=>A.currencyPopup=!1),onInit:I.navInit},{default:r((()=>[c(H,{name:"arrowleft",size:"56",color:"var(--content-primary)"})])),_:1},8,["title","onInit"]),c(N,{class:"coin-list-warp",style:h(`height: ${A.coinListHeight}px`)},{default:r((()=>[c(U,{"name-key":"symbol",nameKey:"symbol",dataList:A.coin,showAvatar:!0,onItemclick:I.itemclick},null,8,["dataList","onItemclick"])])),_:1},8,["style"])])),_:1})])),_:1},8,["show"]),c(q,{show:A.networkPopup,background:"var(--background-primary)"},{default:r((()=>[c(N,{class:"popup-warp"},{default:r((()=>[c(N,{class:"popup-title"},{default:r((()=>[c(V,{class:"font-16 font-weight color-black"},{default:r((()=>[d(u(t.$t("with.t20")),1)])),_:1}),c(H,{name:"close",size:"48",color:"var(--content-primary)",onClick:e[7]||(e[7]=t=>A.networkPopup=!1)})])),_:1}),c(N,{class:"network-container"},{default:r((()=>[c(N,{class:"tooltip-box"},{default:r((()=>[c(V,{class:"font-12 color-gray"},{default:r((()=>[d(u(t.$t("with.t21")),1)])),_:1})])),_:1}),(n(!0),m(b,null,g(A.netlist,((t,e)=>(n(),l(N,{class:p(["item",{active:A.net==e}]),onClick:t=>{A.net=e,A.networkPopup=!1}},{default:r((()=>[c(V,{class:"font-13 color-black font-weight mr-10"},{default:r((()=>[d(u(t.symbol),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1})])),_:1},8,["show"]),c(E,{ref:"alert",title:t.$t("with.t23"),content:A.content},null,8,["title","content"]),c(D,{ref:"loading"},null,512),c(G,{ref:"authPop",title:A.title,onCallback:I.confirms},null,8,["title","onCallback"])])),_:1},8,["data-theme"])}],["__scopeId","data-v-01825b4d"]]);export{H as default};
